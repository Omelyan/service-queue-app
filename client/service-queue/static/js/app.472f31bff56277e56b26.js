webpackJsonp([1],{"4+hh":function(t,e){},"5LIZ":function(t,e){},"7zck":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var a=n("VU/8")({name:"App"},s,!1,function(t){n("p0Qx")},null,null).exports,u=n("/ocq"),r=n("INCx"),o=n.n(r),l=n("BO1k"),c=n.n(l),p=n("pFYg"),d=n.n(p),m={props:{state:String,symbol:Number,updated:Number,left:{type:Number,required:!0},plate:{type:String,required:!0}},data:function(){return{swinging:!1,blinking:!1}},watch:{updated:function(){this.blinking=this.swinging=!0}},computed:{label:function(){switch(this.state){case"success":return"виконано";case"postponed":return"відкладено";case"error":return"скасовано";default:return this.left<15?"завершення робіт":null}},hours:function(){return o()(this.left/60)},minutes:function(){return this.left%60},units:function(){return this.hours?"год":"хв"}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("div",{class:["countdown",{status:t.label}]},[t.symbol&&!t.label?n("span",{staticClass:"symbol",on:{animationend:function(e){t.$emit("update:symbol",0)}}},[t._v(t._s(String.fromCharCode(t.symbol)))]):t._e(),t.label?n("span",{class:["label",t.state]},[t._v(t._s(t.label))]):n("span",{class:["timer",{blinking:t.blinking}],on:{animationend:function(e){t.blinking=!1}}},[t.hours?n("span",{staticClass:"hours"},[t._v(t._s(t.hours+(t.minutes?":":" ")))]):t._e(),t.minutes?n("span",{staticClass:"minutes"},[t._v(t._s(String("0"+t.minutes).slice(-2)+(t.hours?"":" ")))]):t._e(),t.hours*t.minutes?t._e():n("span",{staticClass:"units"},[t._v(t._s(t.units))])])]),n("div",{class:["plate md-elevation-7",{swinging:t.swinging}],on:{animationend:function(e){t.swinging=!1}}},[t._v(t._s(t.plate))])])},staticRenderFns:[]};var h=n("VU/8")(m,f,!1,function(t){n("5LIZ")},"data-v-43990102",null).exports,v=n("mtWM"),g=n.n(v).a.create({baseURL:"http://localhost:8081/"}),b=function(t,e){g.get("queue/updatesAfter/"+t).then(function(t){return 200===t.status?e(t.data):0}).catch(function(t){return t})},y={components:{QueuedItem:h},props:{ticksInterval:{type:Number,default:3e4}},data:function(){return{queue:[],interval:null,updatedStamp:0,time:{now:0,hours:0,minutes:0}}},computed:{timeString:function(){return String("0"+this.time.hours).slice(-2)+" "+String("0"+this.time.minutes).slice(-2)}},methods:{update:function(t){var e=this,n=t.items,i=void 0===n?[]:n,s=t.timeStamp,a=void 0===s?0:s,u=function(t,n,i){return e.queue.splice(t,n,{cID:i.cID,left:i.left,state:i.state,plate:i.plate,symbol:i.symbol,updated:i.updated})},r=this.queue[0],o=!1;this.updatedStamp=a;for(var l=function(t){var n=e.queue[t],s=i.findIndex(function(t){return t.cID===n.cID});if(s+1)u(t,1,i[s]),i.splice(s,1);else if(0===i.length)return{v:void 0};o=o||e.compare(n,r)<0,r=n},p=0;p<this.queue.length;p++){var m=l(p);if("object"===(void 0===m?"undefined":d()(m)))return m.v}o&&this.queue.sort(this.compare);var f=!0,h=!1,v=void 0;try{for(var g,b=c()(i);!(f=(g=b.next()).done);f=!0){var y=g.value;for(p=0;p<this.queue.length&&this.compare(this.queue[p],y)<0;p++);u(p,0,y)}}catch(t){h=!0,v=t}finally{try{!f&&b.return&&b.return()}finally{if(h)throw v}}},compare:function(t,e){var n=this.calculate(t),i=this.calculate(e);return(n-i)*(1-2*(n<0&&i<0))},calculate:function(t){return t.left-o()((this.time.now-t.updated)/6e4)},sanitize:function(){for(var t=this.queue.length;t--;)this.calculate(this.queue[t])<-30&&this.queue.splice(t,1)},ticktock:function(){var t=new Date;this.time.now=t.getTime(),this.time.hours=t.getHours(),this.time.minutes=t.getMinutes(),b(this.updatedStamp,this.update),this.time.minutes%20==0&&this.sanitize()}},mounted:function(){this.$el.style.setProperty("--screen-factor",o()(window.innerWidth/24)),this.interval=setInterval(this.ticktock,this.ticksInterval)}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"queue",dark:""}},[n("v-content",{class:{rainbow:t.queue.length}},[n("div",{attrs:{id:"tray"}},[n("transition",{attrs:{name:"slide-from-top"}},[t.queue.length?n("span",{key:"clock",staticClass:"clock md-elevation-3"},[t._v(t._s(t.timeString))]):n("span",{key:"logo",staticClass:"logo md-elevation-3"})])],1),t.queue.length?n("div",{attrs:{id:"queue-list"}},[n("transition-group",{attrs:{name:"queued-item",tag:"ul"}},t._l(t.queue,function(e){return n("queued-item",{key:e.cID,staticClass:"queued-item",attrs:{state:e.state,symbol:e.symbol,updated:e.updated,left:t.calculate(e),plate:e.plate},on:{"update:symbol":function(n){t.$set(e,"symbol",n)}}})}))],1):n("div",{attrs:{id:"wallpaper"}})])],1)},staticRenderFns:[]};var k=n("VU/8")(y,_,!1,function(t){n("xTtA")},"data-v-6891a472",null).exports;i.default.use(u.a);var q,w=n("3EgV"),I=n.n(w),S=n("IHMs"),x=n.n(S),C={primary:x.a.blue.accent4,secondary:x.a.deepPurple.base,accent:x.a.pink.accent3,error:x.a.red.base,warning:x.a.amber.darken3,info:"#111",success:"#008500"};n("7zck"),n("4+hh");i.default.config.productionTip=!1,i.default.use(I.a,{options:{customProperties:!0},theme:C}),window.application=new i.default({el:"#app",router:(q={ticksInterval:15e3},new u.a({routes:[{path:"/queue",name:"queue",component:k,props:function(){return{ticksInterval:q.ticksInterval}}}]})),components:{App:a},template:"<App/>"})},p0Qx:function(t,e){},xTtA:function(t,e){}},["NHnr"]);